<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Page</title>
    <link rel="icon" href="../img/logo.avif" />
    <link rel="stylesheet" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/all.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/font-awesome.min.css"
    />
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>

    <script>
      $(document).ready(function () {
        // Open modal, switch login and register
        $("#btnRegister").click(function () {
          $("#registerModal").modal();
        });

        $("#btnLogin").click(function () {
          $("#loginModal").modal();
        });

        $("#haveAccount").click(function () {
          $("#registerModal").modal("hide");
          $("#loginModal").modal();
        });

        $("#notHaveAccount").click(function () {
          $("#loginModal").modal("hide");
          $("#registerModal").modal();
        });

        // Register check input name, phone number, email and password more 6 digits with regex
        $("#btnSubmitRegister").click(function () {
          var name = $("#txtName").val();
          var email = $("#txtEmail").val();
          var phone = $("#txtPhone").val();
          var pass = $("#txtPass").val();
          var repass = $("#txtRepass").val();

          var regexName = /^[a-zA-Z ]{2,30}$/;
          var regexEmail = /^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/;
          var regexPhone = /(03|07|08|09|01[2|6|8|9])+([0-9]{8})\b/;

          if (regexName.test(name) == false) {
            $("#errRegister").text("Họ tên không hợp lệ");
            return false;
          } else if (regexEmail.test(email) == false) {
            $("#errRegister").text("Email không hợp lệ");
            return false;
          } else if (regexPhone.test(phone) == false) {
            $("#errRegister").text("Số điện thoại không hợp lệ");
            return false;
          } else if (pass.length < 6) {
            $("#errRegister").text("Mật khẩu không hợp lệ");
            return false;
          } else if (pass != repass) {
            $("#errRegister").text("Mật khẩu không khớp");
            return false;
          } else {
            $("#errRegister").text("");
            return true;
          }
        });
        
        // Login check input email and password with regex
        $("#btnSubmitLogin").click(function () {
          var email = $("#txtEmailLogin").val();
          var pass = $("#txtPassLogin").val();

          var regexEmail = /^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/;

          if (regexEmail.test(email) == false) {
            $("#errLogin").text("Email không hợp lệ");
            return false;
          } else if (pass.length < 6) {
            $("#errLogin").text("Mật khẩu không hợp lệ");
            return false;
          } else {
            $("#errLogin").text("");
            return true;
          }
        });
      });
    </script>
  </head>

  <body>
    <!-- Header -->
    <div
      class="container-fluid bg-dark text-light justify-content-center text-center pt-2 pb-2"
    >
      <div class="row justify-content-center text-center">
        <div class="col-1" style="padding-right: 0px">
          <a href="../index.html">
            <img
              src="../img/logo.avif"
              style="height: 100px; border-radius: 8px"
            />
          </a>
        </div>

        <div class="col-5 h2 mt-4" style="padding-left: 0px">
          Book Store - <i> with love to books </i>
        </div>

        <div class="col-4 mt-4">
          <img src="../img/login_icon.png" style="height: 50px" />
          <a href="#" id="btnLogin"> Đăng nhập</a>
          <button class="p-2" style="border-radius: 4px" id="btnRegister">
            Đăng ký
          </button>
        </div>
      </div>
    </div>

    <!-- Modal Register -->
    <div class="modal fade" id="registerModal">
      <div class="modal-dialog modal-lg">
        <div class="modal-content bg-light">
          <div class="row text-center justify-content-center mt-5">
            <div class="col">
              <h3>Nhập thông tin đăng ký</h3>
            </div>
          </div>

          <div class="modal-body ml-5 mr-5">
            <div class="row">
              <label for="txtName">Họ tên: </label>
              <input
                type="text"
                name="txtName"
                id="txtName"
                class="form-control"
              />
            </div>

            <div class="row mt-3">
              <label for="txtEmail">Email: </label>
              <input
                type="email"
                name="txtEmail"
                id="txtEmail"
                class="form-control"
              />
            </div>

            <div class="row mt-3">
              <label for="txtPhone">Số điện thoại: </label>
              <input
                type="tel"
                name="txtPhone"
                id="txtPhone"
                class="form-control"
              />
            </div>

            <div class="row mt-3">
              <label for="txtPass">Mật khẩu: </label>
              <input
                type="password"
                name="txtPass"
                id="txtPass"
                class="form-control"
              />
            </div>

            <div class="row mt-3">
              <label for="txtRepass">Nhập lại mật khẩu: </label>
              <input
                type="password"
                name="txtRepass"
                id="txtRepass"
                class="form-control"
              />
              <div><i class="text-danger mt-2" id="errRegister"></i></div>
            </div>
          </div>

          <div class="modal-footer ml-5 mr-5">
            <div class="row">
              <a href="#" id="haveAccount">Đã có tài khoản đăng nhập</a>
            </div>

            <div class="row">
              <button class="btn btn-block btn-success" id="btnSubmitRegister">
                Đăng ký
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Login -->
    <div class="modal fade" id="loginModal">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-body ml-5 mr-5">
            <div class="row text-center justify-content-center mt-4">
              <div class="col">
                <h3>Đăng nhập</h3>
              </div>
            </div>

            <div class="row mt-3">
              <label for="txtEmail">Email: </label>
              <input
                type="email"
                name="txtEmail"
                id="txtEmail"
                class="form-control"
              />
            </div>

            <div class="row mt-3">
              <label for="txtPass">Mật khẩu: </label>
              <input
                type="password"
                name="txtPass"
                id="txtPass"
                class="form-control"
              />
              <div><i class="text-danger mt-2" id="errLogin"></i></div>
            </div>

            <div class="row mt-3">
              <a href="#" class="text-danger">Quên mật khẩu?</a>
            </div>
          </div>

          <div class="modal-footer ml-5 mr-5">
            <div class="row">
              <a href="#" id="notHaveAccount">Đăng ký nếu chưa có tài khoản</a>
            </div>

            <div class="row">
              <button class="btn btn-block btn-success">Đăng nhập</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
